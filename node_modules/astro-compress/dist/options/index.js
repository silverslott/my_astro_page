import t from"files-pipe/dist/lib/deepmerge.js";import f from"files-pipe/dist/options/index.js";import o from"../lib/format-bytes.js";import i from"./css.js";import s from"./html.js";import r from"./img.js";import a from"./js.js";import p from"./map.js";import l from"./svg.js";var h=t(f,{css:i,html:s,js:a,img:r,svg:l,map:p,pipe:{failed:async e=>`Error: Cannot compress file ${e.inputPath}!`,passed:async e=>e.fileSizeBefore>Buffer.byteLength(e.buffer.toString()),accomplished:async e=>`Compressed ${e.inputPath} for ${await o(e.fileSizeBefore-e.fileSizeAfter)} (${((e.fileSizeBefore-e.fileSizeAfter)/e.fileSizeBefore*100).toFixed(2)}% reduction) in ${e.outputPath}.`,changed:async e=>(e.info.total=(e.info.total?e.info.total:0)+(e.ongoing.fileSizeBefore-e.ongoing.fileSizeAfter),e)}});export{h as default};
