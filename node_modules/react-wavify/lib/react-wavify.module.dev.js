import t,{Component as i}from"react";import s from"prop-types";function h(){return h=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var s=arguments[i];for(var h in s)Object.prototype.hasOwnProperty.call(s,h)&&(t[h]=s[h])}return t},h.apply(this,arguments)}var e=class extends i{constructor(i){super(i),this.t=()=>this.i.current.offsetWidth,this.h=()=>this.i.current.offsetHeight,this.i=t.createRef(),this.state={path:""},this.o=0,this.l=0,this.p=0,this.u=this.u.bind(this)}m(){const t=[];for(let i=0;i<=Math.max(this.props.points,1);i++){const s=100,h=i/this.props.points*this.t(),e=(this.p+(i+i%this.props.points))*this.props.speed*s,n=Math.sin(e/s)*this.props.amplitude,r=Math.sin(e/s)*n+this.props.height;t.push({x:h,y:r})}return t}v(t){let i=`M ${t[0].x} ${t[0].y}`;const s={x:(t[1].x-t[0].x)/2,y:t[1].y-t[0].y+t[0].y+(t[1].y-t[0].y)},h=(t,i)=>` C ${t.x} ${t.y} ${t.x} ${t.y} ${i.x} ${i.y}`;i+=h(s,t[1]);let e=s;for(let s=1;s<t.length-1;s++)e={x:t[s].x-e.x+t[s].x,y:t[s].y-e.y+t[s].y},i+=h(e,t[s+1]);return i+=` L ${this.t()} ${this.h()}`,i+=` L 0 ${this.h()} Z`,i}$(){this.setState({path:this.v(this.m())})}g(){if(!this.props.paused){const t=new Date;this.l+=t-this.o,this.o=t}this.p=this.l*Math.PI/1e3,this.$()}u(){this.g(),this.M&&this._()}_(){this.M=window.requestAnimationFrame(this.u),this.o=new Date}componentDidMount(){this.M||this._()}componentWillUnmount(){window.cancelAnimationFrame(this.M),this.M=0}render(){const{style:i,className:s,fill:e,paused:n,children:r,id:o,svgId:a,svgPathId:l,d:d,ref:p,height:c,amplitude:u,speed:f,points:w,...m}=this.props;/*#__PURE__*/return t.createElement("div",{style:{width:"100%",display:"inline-block",...i},className:s,id:o,ref:this.i},/*#__PURE__*/t.createElement("svg",{width:"100%",height:"100%",version:"1.1",xmlns:"http://www.w3.org/2000/svg",id:a},r,/*#__PURE__*/t.createElement("path",h({},Object.assign({},{d:this.state.path,fill:e},m),{id:l}))))}},n=s;const r={fill:"#fff",paused:!1,height:20,amplitude:20,speed:.15,points:3},o=i=>{let{options:s,...h}=i;/*#__PURE__*/return t.createElement(e,Object.assign({},r,s,h))};o.displayName="Wave",o.propTypes={paused:n.bool,fill:n.string,options:n.object};export{o as default};
